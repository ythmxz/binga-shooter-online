[gd_scene load_steps=6 format=4 uid="uid://c5agow2cecj8v"]

[ext_resource type="Script" uid="uid://cwhxapw0ogc8x" path="res://scripts/game.gd" id="1_yqjtg"]
[ext_resource type="Texture2D" uid="uid://by2qvlirfs6xr" path="res://assets/square_sprite.png" id="2_lnu2h"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_feb5d"]
texture = ExtResource("2_lnu2h")
texture_region_size = Vector2i(32, 32)
0:0/0 = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-16, -16, 16, -16, 16, 16, -16, 16)

[sub_resource type="TileSet" id="TileSet_66pxm"]
tile_size = Vector2i(32, 32)
physics_layer_0/collision_layer = 1
physics_layer_0/collision_mask = 0
sources/2 = SubResource("TileSetAtlasSource_feb5d")

[sub_resource type="Environment" id="Environment_e2o6t"]
background_mode = 3
background_canvas_max_layer = 1
glow_enabled = true
glow_levels/1 = 2.5
glow_levels/2 = 1.0
glow_levels/3 = 0.0
glow_levels/5 = 0.0
glow_normalized = true
glow_intensity = 1.0
glow_bloom = 0.2
glow_blend_mode = 0

[node name="Game" type="Node" node_paths=PackedStringArray("gui", "arena", "spawner", "online_id_label", "online_id_prompt")]
script = ExtResource("1_yqjtg")
gui = NodePath("GUI")
arena = NodePath("Arena")
spawner = NodePath("MultiplayerSpawner")
online_id_label = NodePath("GUI/Menu/MenuMargin/MenuVBox/OnlineIdLabel")
online_id_prompt = NodePath("GUI/Menu/MenuMargin/MenuVBox/OnlineIdPrompt")

[node name="Arena" type="TileMapLayer" parent="."]
visible = false
tile_map_data = PackedByteArray("AAAAABYAAgAAAAAAAAABABYAAgAAAAAAAAACABYAAgAAAAAAAAADABYAAgAAAAAAAAAEABYAAgAAAAAAAAAFABYAAgAAAAAAAAAGABYAAgAAAAAAAAAHABYAAgAAAAAAAAAIABYAAgAAAAAAAAAJABYAAgAAAAAAAAAKABYAAgAAAAAAAAALABYAAgAAAAAAAAAMABYAAgAAAAAAAAANABYAAgAAAAAAAAAOABYAAgAAAAAAAAAPABYAAgAAAAAAAAAQABYAAgAAAAAAAAARABYAAgAAAAAAAAASABYAAgAAAAAAAAATABYAAgAAAAAAAAAUABYAAgAAAAAAAAAVABYAAgAAAAAAAAAWABYAAgAAAAAAAAAXABYAAgAAAAAAAAAYABYAAgAAAAAAAAAZABYAAgAAAAAAAAAaABYAAgAAAAAAAAAbABYAAgAAAAAAAAAcABYAAgAAAAAAAAAdABYAAgAAAAAAAAAeABYAAgAAAAAAAAAfABYAAgAAAAAAAAAgABYAAgAAAAAAAAAhABYAAgAAAAAAAAAiABYAAgAAAAAAAAAjABYAAgAAAAAAAAAkABYAAgAAAAAAAAAlABYAAgAAAAAAAAAmABYAAgAAAAAAAAAnABYAAgAAAAAAAAAnABUAAgAAAAAAAAAnABQAAgAAAAAAAAAmABQAAgAAAAAAAAAlABQAAgAAAAAAAAAkABQAAgAAAAAAAAAjABQAAgAAAAAAAAAiABQAAgAAAAAAAAAhABQAAgAAAAAAAAAgABQAAgAAAAAAAAAfABQAAgAAAAAAAAAeABQAAgAAAAAAAAAdABQAAgAAAAAAAAAcABQAAgAAAAAAAAAbABMAAgAAAAAAAAAaABMAAgAAAAAAAAAZABMAAgAAAAAAAAAYABMAAgAAAAAAAAAXABMAAgAAAAAAAAAWABMAAgAAAAAAAAAVABMAAgAAAAAAAAAUABMAAgAAAAAAAAATABMAAgAAAAAAAAASABMAAgAAAAAAAAARABMAAgAAAAAAAAAQABMAAgAAAAAAAAAPABMAAgAAAAAAAAAOABMAAgAAAAAAAAANABMAAgAAAAAAAAAMABMAAgAAAAAAAAALABMAAgAAAAAAAAAKABMAAgAAAAAAAAAJABMAAgAAAAAAAAAIABMAAgAAAAAAAAAHABMAAgAAAAAAAAAGABMAAgAAAAAAAAAFABMAAgAAAAAAAAAEABMAAgAAAAAAAAADABMAAgAAAAAAAAACABMAAgAAAAAAAAABABMAAgAAAAAAAAAAABMAAgAAAAAAAAAAABQAAgAAAAAAAAABABQAAgAAAAAAAAACABQAAgAAAAAAAAADABQAAgAAAAAAAAAEABQAAgAAAAAAAAAFABQAAgAAAAAAAAAGABQAAgAAAAAAAAAGABUAAgAAAAAAAAAFABUAAgAAAAAAAAAEABUAAgAAAAAAAAADABUAAgAAAAAAAAACABUAAgAAAAAAAAABABUAAgAAAAAAAAAAABUAAgAAAAAAAAAHABUAAgAAAAAAAAAIABUAAgAAAAAAAAAJABUAAgAAAAAAAAAKABUAAgAAAAAAAAALABUAAgAAAAAAAAAMABUAAgAAAAAAAAANABQAAgAAAAAAAAAOABQAAgAAAAAAAAAPABQAAgAAAAAAAAAQABQAAgAAAAAAAAANABUAAgAAAAAAAAAJABQAAgAAAAAAAAAIABQAAgAAAAAAAAAKABQAAgAAAAAAAAALABQAAgAAAAAAAAAMABQAAgAAAAAAAAARABQAAgAAAAAAAAASABQAAgAAAAAAAAARABUAAgAAAAAAAAAQABUAAgAAAAAAAAAPABUAAgAAAAAAAAAOABUAAgAAAAAAAAAHABQAAgAAAAAAAAASABUAAgAAAAAAAAATABQAAgAAAAAAAAAUABQAAgAAAAAAAAAVABQAAgAAAAAAAAAWABQAAgAAAAAAAAATABUAAgAAAAAAAAAUABUAAgAAAAAAAAAVABUAAgAAAAAAAAAWABUAAgAAAAAAAAAXABUAAgAAAAAAAAAYABUAAgAAAAAAAAAZABUAAgAAAAAAAAAaABUAAgAAAAAAAAAbABUAAgAAAAAAAAAcABUAAgAAAAAAAAAbABQAAgAAAAAAAAAaABQAAgAAAAAAAAAZABQAAgAAAAAAAAAYABQAAgAAAAAAAAAXABQAAgAAAAAAAAAdABUAAgAAAAAAAAAeABUAAgAAAAAAAAAfABUAAgAAAAAAAAAgABUAAgAAAAAAAAAhABUAAgAAAAAAAAAiABUAAgAAAAAAAAAjABUAAgAAAAAAAAAkABUAAgAAAAAAAAAlABUAAgAAAAAAAAAmABUAAgAAAAAAAAACABIAAgAAAAAAAAADABIAAgAAAAAAAAAEABIAAgAAAAAAAAAFABIAAgAAAAAAAAAGABIAAgAAAAAAAAAHABIAAgAAAAAAAAAIABIAAgAAAAAAAAAJABIAAgAAAAAAAAAKABIAAgAAAAAAAAALABIAAgAAAAAAAAAKABEAAgAAAAAAAAAJABEAAgAAAAAAAAAIABEAAgAAAAAAAAAHABEAAgAAAAAAAAAGABEAAgAAAAAAAAAFABEAAgAAAAAAAAAEABEAAgAAAAAAAAADABEAAgAAAAAAAAACABEAAgAAAAAAAAABABEAAgAAAAAAAAAAABEAAgAAAAAAAAAAABIAAgAAAAAAAAABABIAAgAAAAAAAAAfABAAAgAAAAAAAAAgABAAAgAAAAAAAAAhABAAAgAAAAAAAAAiABAAAgAAAAAAAAAjABAAAgAAAAAAAAAWAA4AAgAAAAAAAAAWAA0AAgAAAAAAAAAXAA0AAgAAAAAAAAAYAA0AAgAAAAAAAAAYAA4AAgAAAAAAAAAXAA4AAgAAAAAAAAAVAA4AAgAAAAAAAAAUAA4AAgAAAAAAAAATAA4AAgAAAAAAAAAdAAwAAgAAAAAAAAAeAAwAAgAAAAAAAAAcAAwAAgAAAAAAAAACAA0AAgAAAAAAAAADAA0AAgAAAAAAAAAEAA0AAgAAAAAAAAAFAA0AAgAAAAAAAAAGAA0AAgAAAAAAAAAHAA0AAgAAAAAAAAD//xYAAgAAAAAAAAD//xUAAgAAAAAAAAD//xQAAgAAAAAAAAD//xMAAgAAAAAAAAD//xIAAgAAAAAAAAD//xEAAgAAAAAAAAD//xAAAgAAAAAAAAD//w8AAgAAAAAAAAD//w4AAgAAAAAAAAD//w0AAgAAAAAAAAD//wwAAgAAAAAAAAD//wsAAgAAAAAAAAD//woAAgAAAAAAAAD//wkAAgAAAAAAAAD//wgAAgAAAAAAAAD//wcAAgAAAAAAAAD//wYAAgAAAAAAAAD//wUAAgAAAAAAAAD//wQAAgAAAAAAAAD//wMAAgAAAAAAAAD//wIAAgAAAAAAAAD//wEAAgAAAAAAAAD//wAAAgAAAAAAAAD/////AgAAAAAAAAAAAP//AgAAAAAAAAABAP//AgAAAAAAAAACAP//AgAAAAAAAAADAP//AgAAAAAAAAAEAP//AgAAAAAAAAAFAP//AgAAAAAAAAAGAP//AgAAAAAAAAAHAP//AgAAAAAAAAAIAP//AgAAAAAAAAAJAP//AgAAAAAAAAAKAP//AgAAAAAAAAALAP//AgAAAAAAAAAMAP//AgAAAAAAAAANAP//AgAAAAAAAAAOAP//AgAAAAAAAAAPAP//AgAAAAAAAAAQAP//AgAAAAAAAAARAP//AgAAAAAAAAASAP//AgAAAAAAAAATAP//AgAAAAAAAAAUAP//AgAAAAAAAAAVAP//AgAAAAAAAAAWAP//AgAAAAAAAAAXAP//AgAAAAAAAAAYAP//AgAAAAAAAAAZAP//AgAAAAAAAAAaAP//AgAAAAAAAAAbAP//AgAAAAAAAAAcAP//AgAAAAAAAAAdAP//AgAAAAAAAAAeAP//AgAAAAAAAAAfAP//AgAAAAAAAAAgAP//AgAAAAAAAAAhAP//AgAAAAAAAAAiAP//AgAAAAAAAAAjAP//AgAAAAAAAAAkAP//AgAAAAAAAAAlAP//AgAAAAAAAAAmAP//AgAAAAAAAAAnAP//AgAAAAAAAAAoAP//AgAAAAAAAAAoAAAAAgAAAAAAAAAoAAEAAgAAAAAAAAAoAAIAAgAAAAAAAAAoAAMAAgAAAAAAAAAoAAQAAgAAAAAAAAAoAAUAAgAAAAAAAAAoAAYAAgAAAAAAAAAoAAcAAgAAAAAAAAAoAAgAAgAAAAAAAAAoAAkAAgAAAAAAAAAoAAoAAgAAAAAAAAAoAAsAAgAAAAAAAAAoAAwAAgAAAAAAAAAoAA0AAgAAAAAAAAAoAA4AAgAAAAAAAAAoAA8AAgAAAAAAAAAoABAAAgAAAAAAAAAoABEAAgAAAAAAAAAoABIAAgAAAAAAAAAoABMAAgAAAAAAAAAoABQAAgAAAAAAAAAoABUAAgAAAAAAAAAoABYAAgAAAAAAAAA=")
tile_set = SubResource("TileSet_66pxm")

[node name="SpawnPoint" type="Marker2D" parent="Arena"]
position = Vector2(160, 512)

[node name="SpawnPoint2" type="Marker2D" parent="Arena"]
position = Vector2(1120, 608)

[node name="SpawnPoint3" type="Marker2D" parent="Arena"]
position = Vector2(480, 576)

[node name="SpawnPoint4" type="Marker2D" parent="Arena"]
position = Vector2(800, 576)

[node name="GUI" type="CanvasLayer" parent="."]

[node name="Menu" type="Control" parent="GUI"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="MenuMargin" type="MarginContainer" parent="GUI/Menu"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 64
theme_override_constants/margin_top = 64
theme_override_constants/margin_right = 64
theme_override_constants/margin_bottom = 64

[node name="MenuVBox" type="VBoxContainer" parent="GUI/Menu/MenuMargin"]
layout_mode = 2
size_flags_horizontal = 4
theme_override_constants/separation = 16
alignment = 1

[node name="TitleLabel" type="Label" parent="GUI/Menu/MenuMargin/MenuVBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 48
text = "Binga Shooter Online"

[node name="OnlineIdLabel" type="Label" parent="GUI/Menu/MenuMargin/MenuVBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 24
text = "Loading..."
horizontal_alignment = 1
vertical_alignment = 1

[node name="HostButton" type="Button" parent="GUI/Menu/MenuMargin/MenuVBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 24
text = "Host"

[node name="HSeparator" type="HSeparator" parent="GUI/Menu/MenuMargin/MenuVBox"]
layout_mode = 2

[node name="OnlineIdPrompt" type="LineEdit" parent="GUI/Menu/MenuMargin/MenuVBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 24
placeholder_text = "Enter Host's Online ID..."
alignment = 1

[node name="JoinButton" type="Button" parent="GUI/Menu/MenuMargin/MenuVBox"]
layout_mode = 2
theme_override_font_sizes/font_size = 24
text = "Join"

[node name="MultiplayerSpawner" type="MultiplayerSpawner" parent="."]
_spawnable_scenes = PackedStringArray("res://player/player.tscn")
spawn_path = NodePath("..")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_e2o6t")

[connection signal="pressed" from="GUI/Menu/MenuMargin/MenuVBox/HostButton" to="." method="_on_host_pressed"]
[connection signal="pressed" from="GUI/Menu/MenuMargin/MenuVBox/JoinButton" to="." method="_on_join_pressed"]
